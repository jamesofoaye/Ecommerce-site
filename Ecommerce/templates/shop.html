{% extends 'base.html' %} {% load static %} {% block content %}

<div class="page-holder">

  {% for message in messages %}
  <div class="alert alert-info alert-dismissible fade show" role="alert">
  {{message}}
  <button type="button" style="color: #555" class="close" data-dismiss="alert" aria-label="Close">
    <span aria-hidden="true">&times;</span>
  </button>
</div>
  {% endfor %}
  <div class="container">
    <!-- HERO SECTION-->
    <section class="py-5 bg-light">
      <div class="container">
        <div class="row px-4 px-lg-5 py-lg-4 align-items-center">
          <div class="col-lg-6">
            <h1 class="h2 text-uppercase mb-0">Shop</h1>
          </div>
          <div class="col-lg-6 text-lg-right">
            <nav aria-label="breadcrumb">
              <ol class="breadcrumb justify-content-lg-end mb-0 px-0">
                <li class="breadcrumb-item">
                  <a href="{% url 'home' %}">Home</a>
                </li>
                <li class="breadcrumb-item active" aria-current="page">Shop</li>
              </ol>
            </nav>
          </div>
        </div>
      </div>
    </section>
    <section class="py-5">
      <div class="container p-0">
        <div class="row">
          <!-- SHOP SIDEBAR-->
          <div class="col-lg-3 order-2 order-lg-1">
            <h5 class="text-uppercase mb-4">Categories</h5>
             <div class="py-2 px-4 bg-dark mb-3">
              <strong class="text-light small text-uppercase font-weight-bold"
                >Selected few</strong
              >
            </div>
             <ul
              class="list-unstyled small text-muted pl-lg-4 font-weight-normal mb-5"
            >
            {% for category in categories %}
            <li class="mb-2">
              <a class="reset-anchor" href="#">{{category.title | title }}</a>
            </li>
            {% endfor %}
          </ul>
            <!-- <div class="py-2 px-4 bg-dark text-white mb-3">
              <strong class="small text-uppercase font-weight-bold"
                >Fashion &amp; Acc</strong
              >
            </div> -->
            <!-- <ul
              class="list-unstyled small text-muted pl-lg-4 font-weight-normal"
            >
              <li class="mb-2">
                <a class="reset-anchor" href="#">Women's T-Shirts</a>
              </li>
              <li class="mb-2">
                <a class="reset-anchor" href="#">Men's T-Shirts</a>
              </li>
              <li class="mb-2"><a class="reset-anchor" href="#">Dresses</a></li>
              <li class="mb-2">
                <a class="reset-anchor" href="#">Novelty socks</a>
              </li>
              <li class="mb-2">
                <a class="reset-anchor" href="#">Women's sunglasses</a>
              </li>
              <li class="mb-2">
                <a class="reset-anchor" href="#">Men's sunglasses</a>
              </li>
            </ul> -->
            <!-- <div class="py-2 px-4 bg-light mb-3">
              <strong class="small text-uppercase font-weight-bold"
                >Health &amp; Beauty</strong
              >
            </div> -->
            <!-- <ul
              class="list-unstyled small text-muted pl-lg-4 font-weight-normal"
            >
              <li class="mb-2"><a class="reset-anchor" href="#">Shavers</a></li>
              <li class="mb-2"><a class="reset-anchor" href="#">bags</a></li>
              <li class="mb-2">
                <a class="reset-anchor" href="#">Cosmetic</a>
              </li>
              <li class="mb-2">
                <a class="reset-anchor" href="#">Nail Art</a>
              </li>
              <li class="mb-2">
                <a class="reset-anchor" href="#">Skin Masks &amp; Peels</a>
              </li>
              <li class="mb-2">
                <a class="reset-anchor" href="#">Korean cosmetics</a>
              </li>
            </ul> -->
            <!-- <div class="py-2 px-4 bg-light mb-3">
              <strong class="small text-uppercase font-weight-bold"
                >Electronics</strong
              >
            </div> -->
            <!-- <ul
              class="list-unstyled small text-muted pl-lg-4 font-weight-normal mb-5"
            >
              <li class="mb-2">
                <a class="reset-anchor" href="#">Electronics</a>
              </li>
              <li class="mb-2">
                <a class="reset-anchor" href="#">USB Flash drives</a>
              </li>
              <li class="mb-2">
                <a class="reset-anchor" href="#">Headphones</a>
              </li>
              <li class="mb-2">
                <a class="reset-anchor" href="#">Portable speakers</a>
              </li>
              <li class="mb-2">
                <a class="reset-anchor" href="#"
                  >Cell Phone bluetooth headsets</a
                >
              </li>
              <li class="mb-2">
                <a class="reset-anchor" href="#">Keyboards</a>
              </li>
            </ul> -->
            <!-- <h6 class="text-uppercase mb-4">Price range</h6>
            <div class="price-range pt-4 mb-5">
              <div id="range"></div>
              <div class="row pt-2">
                <div class="col-6">
                  <strong class="small font-weight-bold text-uppercase"
                    >From</strong
                  >
                </div>
                <div class="col-6 text-right">
                  <strong class="small font-weight-bold text-uppercase"
                    >To</strong
                  >
                </div>
              </div>
            </div> -->
          </div>
          <!-- SHOP LISTING-->
          <div class="col-lg-9 order-1 order-lg-2 mb-5 mb-lg-0">
            <div class="row mb-3 align-items-center">
              <div class="col-lg-6 mb-2 mb-lg-0">
                <p class="text-small text-muted mb-0">
                  Showing {{totalpageitems}} items of {{productnumber}}
                </p>
              </div>
              <div class="col-lg-6">
                <ul
                  class="list-inline d-flex align-items-center justify-content-lg-end mb-0"
                >
                  <li class="list-inline-item text-muted mr-3">
                    <a class="reset-anchor p-0" href="#"
                      ><i class="fas fa-th-large"></i
                    ></a>
                  </li>
                  <li class="list-inline-item text-muted mr-3">
                    <a class="reset-anchor p-0" href="#"
                      ><i class="fas fa-th"></i
                    ></a>
                  </li>
                  <li class="list-inline-item">
                    <select
                      class="selectpicker ml-auto"
                      name="sorting"
                      data-width="200"
                      data-style="bs-select-form-control"
                      data-title="Default sorting"
                    >
                      <option value="default">Default sorting</option>
                      <option value="popularity">Popularity</option>
                      <option value="low-high">Price: Low to High</option>
                      <option value="high-low">Price: High to Low</option>
                    </select>
                  </li>
                </ul>
              </div>
            </div>
            <div class="row">
              {% for product in page_obj %}
              <!-- PRODUCT-->
              <div class="col-lg-4 col-sm-6">
                <div class="product text-center">
                  <div class="mb-3 position-relative">
                    {% if product.offer %}
                    <div class="badge text-white badge-primary">
                      {{product.offer}}
                    </div>
                    {% elif product.offer == 'New' %}
                    <div class="badge text-white badge-success">
                      {{product.offer}}
                    </div>
                    {% endif %}
                    <a class="d-block" href="{% url 'detail' product.name %}"
                      ><img
                        class="img-fluid w-100"
                        src="{{product.main_image.url}}"
                        alt="..."
                    /></a>
                    <div class="product-overlay">
                      <ul class="mb-0 list-inline">
                        <li class="list-inline-item m-0 p-0">
                          <a data-name="{{product.name}}" data-action="wishlist" class="favbtn btn btn-sm btn-outline-dark" href="#"
                            ><i class=" far fa-heart"></i
                          ></a>
                        </li>
                        <li class="list-inline-item m-0 p-0">
                          <button
                            data-id="{{product.id}}"
                            data-action="add"
                            class="btn-add-cart btn btn-dark btn-sm btn-block h-100 d-flex align-items-center justify-content-center px-2"
                          >
                            Add to cart
                          </button>
                        </li>
                      </ul>
                    </div>
                  </div>
                  <h6>
                    <a
                      class="reset-anchor"
                      href="{% url 'detail' product.name %}"
                      >{{product.name}}</a
                    >
                  </h6>
                  <p class="small text-muted">GHC {{product.price}}</p>
                </div>
              </div>
              {% endfor %}
            </div>
            <!-- PAGINATION-->
            <nav aria-label="Page navigation example">
              <ul
                class="pagination justify-content-center justify-content-lg-end"
              >
                {% if page_obj.has_previous %}
                <li class="page-item">
                  <a class="page-link" href="?page=1" aria-label="Previous"
                    ><span aria-hidden="true">«</span></a
                  >
                </li>
                {% endif %}

                <li class="page-item active">
                  <a class="page-link" href="#">{{ page_obj.number }}</a>
                </li>

                {% if page_obj.has_next %}
                <li class="page-item">
                  <a
                    class="page-link"
                    href="?page={{ page_obj.next_page_number }}"
                    aria-label="Next"
                    ><span aria-hidden="true">»</span></a
                  >
                </li>
                {% endif %}
              </ul>
            </nav>
          </div>
        </div>
      </div>
    </section>
  </div>
</div>
<script src="{% static 'cart/cart.js' %}"></script>
      <script src="{% static 'cart/favorites.js' %}"></script>


<!-- <script>
    var range = document.getElementById("range");
    noUiSlider.create(range, {
      range: {
        min: 0,
        max: 2000,
      },
      step: 5,
      start: [100, 1000],
      margin: 300,
      connect: true,
      direction: "ltr",
      orientation: "horizontal",
      behaviour: "tap-drag",
      tooltips: true,
      format: {
        to: function (value) {
          return "$" + value;
        },
        from: function (value) {
          return value.replace("", "");
        },
      },
    });
  </script> -->
<script>
  // ------------------------------------------------------- //
  //   Inject SVG Sprite -
  //   see more here
  //   https://css-tricks.com/ajaxing-svg-sprite/
  // ------------------------------------------------------ //
  function injectSvgSprite(path) {
    var ajax = new XMLHttpRequest();
    ajax.open("GET", path, true);
    ajax.send();
    ajax.onload = function (e) {
      var div = document.createElement("div");
      div.className = "d-none";
      div.innerHTML = ajax.responseText;
      document.body.insertBefore(div, document.body.childNodes[0]);
    };
  }
  // this is set to BootstrapTemple website as you cannot
  // inject local SVG sprite (using only 'icons/orion-svg-sprite.svg' path)
  // while using file:// protocol
  // pls don't forget to change to your domain :)
  injectSvgSprite(
    "https://bootstraptemple.com/files/icons/orion-svg-sprite.svg"
  );
</script>
{% endblock %}
